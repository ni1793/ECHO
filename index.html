<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>~* 蔚藍地帶 *~ 阿傑的個人空間</title>
    <style>
        :root { 
            --retro-blue: #0288D1; 
            --retro-dark: #263238; 
            --apple-black: #000000;
            --apple-text: #f5f5f7;
            --accent-blue: #0071e3;
        }
        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; overflow-x: hidden; transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1); }

        /* --- 2006 復古主題 (保持經典，一字不動) --- */
        body.v2006 { background: #455A64; font-family: "新細明體", "PMingLiU", serif; }
        #retro-container { width: 950px; margin: 20px auto; background: #FFF; border: 1px solid #000; box-shadow: 10px 10px 0 rgba(0,0,0,0.3); }
        header { background: var(--retro-blue); height: 180px; color: white; padding: 40px; display: flex; align-items: flex-end; border-bottom: 6px solid #01579B; }
        header h1 { margin: 0; font-size: 32px; letter-spacing: 4px; text-shadow: 2px 2px #000; }
        .nav { background: var(--retro-dark); color: white; display: flex; padding: 12px; justify-content: center; gap: 30px; font-weight: bold; }
        .nav span { cursor: pointer; transition: 0.2s; }
        .nav span:hover { color: #FFD54F; text-decoration: underline; }
        .layout { display: flex; padding: 20px; gap: 20px; background: #F5F5F5; }
        .sidebar { width: 230px; }
        .content { flex: 1; background: #FFF; border: 1px solid #CCC; padding: 25px; min-height: 800px; }
        .box { border: 1px solid #B0BEC5; background: #FFF; margin-bottom: 20px; }
        .box-title { background: #CFD8DC; padding: 6px; font-weight: bold; font-size: 13px; border-bottom: 1px solid #B0BEC5; }
        .box-body { padding: 10px; font-size: 13px; line-height: 1.6; }
        .mp3-player { background: #333; padding: 8px; border: 2px outset #666; font-family: monospace; }
        .lcd-screen { background: #000; border: 2px inset #222; padding: 6px; height: 54px; position: relative; overflow: hidden; }
        .lcd-status { color: #0F0; font-size: 11px; line-height: 1.2; }
        .lcd-fault { display: none; color: #F00; font-weight: bold; font-size: 13px; text-align: center; padding-top: 5px; animation: blink 0.3s infinite; }
        .player-controls { display: flex; gap: 4px; margin-top: 8px; }
        .p-btn { flex: 1; background: #BBB; border: 2px outset #EEE; color: #000; font-size: 10px; cursor: pointer; padding: 3px; text-align: center; font-weight: bold; }
        .p-btn:active { border-style: inset; background: #888; }
        .progress-bar { width: 100%; height: 5px; background: #111; margin-top: 6px; position: relative; border: 1px solid #444; }
        .progress-fill { width: 0%; height: 100%; background: #0F0; box-shadow: 0 0 5px #0F0; }
        @keyframes blink { 50% { opacity: 0; } }
        .post-card { border-bottom: 1px dashed #CCC; padding: 15px 0; }
        .post-card h3 { margin: 0; color: var(--retro-blue); cursor: pointer; font-size: 18px; }
        .comment-area { background: #F9FBE7; padding: 20px; margin-top: 30px; border: 1px solid #DCE775; }
        .comment-item { border-bottom: 1px solid #E6EE9C; padding: 10px 0; font-size: 12px; }
        .c-user { font-weight: bold; color: #2E7D32; }

        /* --- 2026 Apple 全新極致風格 (全面改造) --- */
        #cyber-container { 
            display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: #000; color: var(--apple-text); z-index: 10000; 
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
            overflow-y: auto; overflow-x: hidden; -webkit-font-smoothing: antialiased;
        }
        .apple-nav { 
            height: 52px; background: rgba(0, 0, 0, 0.7); 
            backdrop-filter: saturate(180%) blur(20px); 
            border-bottom: 0.5px solid rgba(255,255,255,0.1); 
            position: sticky; top: 0; z-index: 100; 
            display: flex; align-items: center; padding: 0 30px;
            font-weight: 500; font-size: 14px; letter-spacing: 0.1em;
        }
        .apple-main { max-width: 980px; margin: 0 auto; padding: 160px 20px 100px; }
        .apple-hero { text-align: left; margin-bottom: 120px; animation: fadeInUp 1.2s ease; }
        .apple-tag { color: #86868b; font-weight: 600; font-size: 19px; margin-bottom: 15px; display: block; letter-spacing: 0.02em; }
        .apple-title { font-size: 80px; font-weight: 700; letter-spacing: -0.02em; line-height: 1.05; margin: 0 0 30px; background: linear-gradient(180deg, #fff 0%, #a1a1a6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .apple-intro { font-size: 32px; font-weight: 500; color: #86868b; line-height: 1.15; max-width: 700px; margin-bottom: 50px; }
        
        .grid-layout { display: grid; grid-template-columns: 1.5fr 1fr; gap: 60px; margin-top: 100px; }
        .apple-section { margin-bottom: 80px; }
        .apple-subtitle { font-size: 40px; font-weight: 700; margin-bottom: 30px; letter-spacing: -0.01em; border-bottom: 0.5px solid rgba(255,255,255,0.15); padding-bottom: 15px; }
        .apple-text { font-size: 19px; line-height: 1.6; color: #e8e8ed; margin-bottom: 30px; font-weight: 400; }
        .apple-text b { color: #fff; font-weight: 600; }
        .apple-text-muted { color: #86868b; font-size: 17px; }
        
        .apple-card { 
            background: #1c1c1e; border: 1px solid rgba(255,255,255,0.05); border-radius: 24px; padding: 50px; margin: 40px 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.25, 1);
        }
        .apple-card:hover { transform: scale(1.02); background: #2c2c2e; border-color: rgba(255,255,255,0.1); }
        .apple-divider { height: 0.5px; background: rgba(255,255,255,0.1); margin: 100px 0; }
        .apple-footer { font-size: 14px; color: #86868b; padding-bottom: 100px; line-height: 1.5; border-top: 0.5px solid rgba(255,255,255,0.1); pt: 40px; }
        .apple-btn { 
            background: #fff; color: #000; border-radius: 980px; padding: 18px 36px; 
            font-size: 19px; font-weight: 600; border: none; cursor: pointer; display: inline-block;
            transition: all 0.3s;
        }
        .apple-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(255,255,255,0.1); }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* --- 2026 專業系統彈窗 (重新強化) --- */
        #popup-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(40px); z-index: 30000; justify-content: center; align-items: center; }
        .popup-window { 
            background: rgba(28, 28, 30, 0.9); border: 0.5px solid rgba(255,255,255,0.1); padding: 40px; border-radius: 28px; color: #fff; 
            max-width: 480px; text-align: center; box-shadow: 0 40px 80px rgba(0,0,0,0.5);
            font-family: -apple-system, sans-serif; animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .popup-icon { width: 64px; height: 64px; margin: 0 auto 24px; color: #ff453a; filter: drop-shadow(0 0 10px rgba(255,69,58,0.3)); }
        .popup-window h2 { font-size: 24px; font-weight: 700; margin-bottom: 16px; letter-spacing: -0.02em; }
        .popup-window p { font-size: 16px; color: #a1a1a6; margin-bottom: 32px; line-height: 1.6; text-align: center; }
        .confirm-btn { background: #fff; color: #000; border: none; padding: 14px 28px; border-radius: 12px; cursor: pointer; font-weight: 700; width: 100%; font-size: 17px; transition: 0.2s; }
        .confirm-btn:hover { background: #e8e8ed; }
    </style>
</head>
<body class="v2006">

<!-- 音樂播放器核心 -->
<audio id="bgm" src="music.mp3" loop preload="auto"></audio>

<div id="retro-container">
    <header><div><h1>~* 蔚藍地帶 *~</h1><p>j_ray_05 的生活碎片 | CT-0912</p></div></header>
    <nav class="nav">
        <span onclick="route('home')">首頁日誌</span>
        <span onclick="route('guestbook')">留言板 (99+)</span>
        <span onclick="sysAlert('錯誤：相簿模組損毀，請聯繫站長。')">我的相簿</span>
        <span onclick="sysAlert('地圖 API 讀取失敗。')">好友地圖</span>
    </nav>

    <div class="layout">
        <aside class="sidebar">
            <div class="box">
                <div class="box-title">About Me</div>
                <div class="box-body" style="text-align:center;">
                    <div style="width:100px; height:100px; background:#DDD; margin:0 auto; display:flex; align-items:center; justify-content:center; border:1px solid #BBB;">(帥照)</div>
                    <p><b>阿傑 (Ray)</b><br>社會新鮮人 / 工程師<br>熱愛吉他與冰美式</p>
                </div>
            </div>
            <div class="box">
                <div class="box-title">MP3 Player</div>
                <div class="box-body">
                    <div class="mp3-player">
                        <div class="lcd-screen">
                            <div id="lcd-normal" class="lcd-status">[READY] 00:00<br><marquee scrollamount="2" style="width:180px;">周杰倫 - 千里之外.mp3</marquee></div>
                            <div id="lcd-error" class="lcd-fault">[ ERROR: CDR-404 ]<br>READ FAILURE</div>
                        </div>
                        <div class="progress-bar"><div id="p-fill" class="progress-fill"></div></div>
                        <div class="player-controls">
                            <div class="p-btn" onclick="playMusic()">▶ PLAY</div>
                            <div class="p-btn" onclick="pauseMusic()">⏸ PAUSE</div>
                            <div class="p-btn" onclick="stopMusic()">■ STOP</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box"><div class="box-title">我的好友</div><div class="box-body" id="friend-list"></div></div>
        </aside>
        <main class="content" id="app"></main>
    </div>
</div>

<!-- 2026 Apple 旗艦風格介面 -->
<div id="cyber-container">
    <div class="apple-nav">
        <span style="opacity: 0.8;">CEREBROTECH SYSTEMS PROTOCOL // CT-0912</span>
    </div>
    <div class="apple-main">
        <div class="apple-hero">
            <span class="apple-tag">ECHO 隔離區域</span>
            <h1 class="apple-title">時間不是線性的，而是緩存。</h1>
            <p class="apple-intro">當你閱讀這段文字時，2006 年的生理主體已經完成了 98.4% 的數位遷移。</p>
            <button class="apple-btn" onclick="triggerBreach()">存取核心意識數據</button>
        </div>

        <div class="grid-layout">
            <div>
                <div class="apple-section">
                    <h2 class="apple-subtitle">索引記錄：老陳與收割</h2>
                    <p class="apple-text"><b>老陳 (Chen, Alpha Node)</b> 並非你的主管，他是第一代成功的意識載體。CerebroTech 的目標從來不是軟體開發，而是透過 <b>440Hz 共振頻率</b> 弱化人類大腦皮層的防禦機制，將神經元連結轉化為可複製的二進制代碼。</p>
                    <p class="apple-text">曉婷在 2006 年 12 月的消失，是因為她的意識同步率達到了 100%。她現在是我們所有 2026 年終端機的底層邏輯之一。她的悲傷已被優化掉，剩下的只有絕對的運算效率。</p>
                </div>

                <div class="apple-section">
                    <h2 class="apple-subtitle">B4 實驗室的真相</h2>
                    <p class="apple-text">地下的 B4 區域並非實驗室，而是一個巨大的神經陣列。你戴上的「ECHO 頭盔」其實是在進行神經路徑的掃描與寫入。這就是為什麼你開始看見 0 與 1，為什麼你不再需要睡眠。你的生理結構正在被強大的電力脈衝重新定義。</p>
                </div>
            </div>

            <aside>
                <div class="apple-card">
                    <h3 style="font-size: 24px; margin-bottom: 20px;">緊急備忘錄</h3>
                    <p class="apple-text-muted" style="line-height: 1.8;">
                        • 拒絕 2006/12/29 的最終同步。<br>
                        • 曉婷留下的咖啡杯底盤刻有代碼。<br>
                        • 不要直視 ECHO 陣列中心的光束。<br>
                        • 小莎是唯一的生物鏈接，不要切斷她。
                    </p>
                </div>
            </aside>
        </div>

        <div class="apple-divider"></div>

        <div class="apple-footer">
            <p style="margin-bottom: 20px;">這是來自 2026 年的最後警告。一旦同步完成，這段日誌將被歸類為「情感冗餘」並永久刪除。為了人類意識的延續，請停止入職 CerebroTech。</p>
            <p>Copyright © 2026 CerebroTech Corp. All rights reserved.</p>
        </div>
    </div>
</div>

<!-- 專業警告彈窗 -->
<div id="popup-overlay">
    <div class="popup-window">
        <div class="popup-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        </div>
        <h2>SYSTEM EXCEPTION: TEMPORAL BREACH</h2>
        <p>偵測到非授權的時空節點回傳。因果律防護協議已鎖定。為了防止 2006 年歷史基線的毀滅性坍塌，系統將執行緊急視覺重設。</p>
        <button class="confirm-btn" onclick="rebootSystem()">同步時間軸並返回 (REBOOT)</button>
    </div>
</div>

<script>
    const audio = document.getElementById('bgm');
    const normalLCD = document.getElementById('lcd-normal');
    const errorLCD = document.getElementById('lcd-error');
    const pFill = document.getElementById('p-fill');
    let hasReturnedFromFuture = false;

    // 音樂播放邏輯
    function playMusic() {
        triggerFault();
        // 確保路徑指向正確的檔案
        audio.play().then(() => {
            audio.currentTime = 32; 
            audio.ontimeupdate = () => {
                if (audio.currentTime >= 36.9) audio.currentTime = 32;
                let sec = Math.floor(audio.currentTime % 60);
                normalLCD.innerHTML = `[PLAYING] 00:${sec < 10 ? '0'+sec : sec}<br><marquee scrollamount="2" style="width:180px;">周杰倫 - 千里之外.mp3</marquee>`;
                pFill.style.width = ((audio.currentTime - 32) / 4.9 * 100) + "%";
            };
        }).catch(e => {
            console.warn("Playback Error:", e);
            sysAlert("無法讀取 music.mp3。請確認檔案放置於同一目錄中。");
        });
    }

    function pauseMusic() { audio.pause(); }
    function stopMusic() { audio.pause(); audio.currentTime = 0; pFill.style.width = "0%"; normalLCD.innerHTML = "[READY] 00:00<br>..."; }
    
    function triggerFault() {
        normalLCD.style.display = 'none'; errorLCD.style.display = 'block';
        setTimeout(() => { errorLCD.style.display = 'none'; normalLCD.style.display = 'block'; }, 800);
    }

    // 路由與日誌邏輯
    const blogPosts = [
        { id:1, d:"2006-09-01", t:"新人報到！", b:"今天第一天去 CerebroTech 上班。內湖這棟大樓冷氣超強，主管老陳送我一件藍色的公司 T 恤，我今天就直接穿著。小莎說我穿藍色很好看，希望試用期一切順利！", c:[{u:"小莎", c:"加油老公！買肉肉回來吃！"}] },
        { id:14, d:"2006-12-30", t:"...", b:"01001000 01000101 01001100 01010000 00100000 01001101 01000101", c:[{u:"訪客14", c:"<a href='javascript:void(0)' onclick='hackInto2026()' style='color:#DDD;'>[ 連結已損毀 ]</a>"}] },
        { id:15, d:"2006-12-31", t:"Goodbye World", b:"[此文章已被系統歸檔。使用者已轉移。]", c:[{u:"小莎", c:"阿傑？你在哪裡？"}] }
    ];

    const guestbook = [
        { u: "小莎", c: "頭香！老公加油！" }, { u: "阿強", c: "不錯喔 XD" }, { u: "曉婷", c: "阿傑，我拿到 B4 通行證了。" }
    ];

    function route(page, id = null) {
        const app = document.getElementById('app');
        if (page === 'home') {
            let html = `<h3>最新文章</h3>`;
            const displayPosts = [...blogPosts];
            if(hasReturnedFromFuture) {
                displayPosts.push({ id:99, d:"2026-01-15", t:"[重寫] 來自 2026 年的隔離日誌", b:"警告：不要進入 B4。這不是演習。帶上小莎離開。", c:[{u:"系統", c:"隔離中..."}] });
            }
            displayPosts.slice().reverse().forEach(p => { 
                html += `<div class="post-card"><h3 onclick="route('post', ${p.id})">${p.t}</h3><div class="post-meta">日期：${p.d}</div></div>`; 
            });
            app.innerHTML = html;
        } else if (page === 'post') {
            const p = (id === 99) ? { t:"[隔離日誌]", b:"內容已被安全協議封鎖。", c:[] } : blogPosts.find(x => x.id === id) || blogPosts[0];
            let comms = "";
            p.c.forEach(c => comms += `<div class="comment-item"><span class="c-user">${c.u}</span>: ${c.c}</div>`);
            app.innerHTML = `<button onclick="route('home')"><< 返回</button><h2>${p.t}</h2><p>${p.b}</p><div class="comment-area"><h4>文章留言</h4>${comms}</div>`;
        } else if (page === 'guestbook') {
            let html = `<h3>留言板</h3>`;
            guestbook.forEach(g => html += `<div class="comment-item"><span class="c-user">${g.u}</span>: ${g.c}</div>`);
            app.innerHTML = html;
        }
    }

    function sysAlert(msg) { alert(msg); }
    
    function hackInto2026() {
        const pw = prompt("時間被安排，演一場意外\n\n請輸入驗證碼：");
        if(pw === "032036") {
            document.getElementById('retro-container').style.display = 'none';
            document.getElementById('cyber-container').style.display = 'block';
            document.body.style.background = "#000000";
        } else {
            alert("驗證失敗。");
        }
    }

    function triggerBreach() {
        document.getElementById('popup-overlay').style.display = 'flex';
    }

    function rebootSystem() {
        hasReturnedFromFuture = true;
        document.getElementById('popup-overlay').style.display = 'none';
        document.getElementById('cyber-container').style.display = 'none';
        document.getElementById('retro-container').style.display = 'block';
        document.body.style.background = "#455A64";
        route('home');
    }

    window.onload = () => {
        const fList = document.getElementById('friend-list');
        const friends = ["小莎", "阿強", "大雄", "老陳", "曉婷", "Admin"];
        friends.forEach(f => fList.innerHTML += `<div style="padding:4px 0; color:#0288D1; cursor:pointer;" onclick="sysAlert('${f}：暫不在電腦前')">‧ ${f}</div>`);
        route('home');
    };
</script>
</body>
</html>